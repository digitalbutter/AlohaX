Ext.onReady(function(){MODx.load({xtype:"page-context-view",key:MODx.request.key});});MODx.page.ViewContext=function(A){A=A||{};Ext.applyIf(A,{form:"context_data",actions:{"new":MODx.action["context/create"],edit:MODx.action["context/update"],"delete":MODx.action["context/delete"],cancel:MODx.action["context/view"]},buttons:this.getButtons()});MODx.page.ViewContext.superclass.constructor.call(this,A);};Ext.extend(MODx.page.ViewContext,MODx.Component,{getButtons:function(B){var A=[];A.push({process:"create",text:_("new"),params:{a:MODx.action["context/create"]}},{process:"edit",text:_("edit"),params:{a:"context/update",key:B.key}},"-",{process:"duplicate",text:_("duplicate"),method:"remote",confirm:_("context_duplicate_confirm")});if(B.key!="web"&&B.key!="mgr"){A.push({process:"delete",text:_("delete"),method:"remote",confirm:_("confirm_delete_context")});}A.push("-",{process:"cancel",text:_("cancel"),params:{a:MODx.action.context}});A.push("-",{text:_("help_ex"),handler:MODx.loadHelpPane});return A;}});Ext.reg("page-context-view",MODx.page.ViewContext);