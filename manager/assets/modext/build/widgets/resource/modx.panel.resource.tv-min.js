MODx.panel.ResourceTV=function(A){A=A||{};Ext.applyIf(A,{id:"modx-panel-resource-tv",title:_("template_variables"),class_key:"",resource:"",bodyStyle:"padding: 15px; border: 0",autoHeight:true,applyTo:"modx-resource-tvs-div",header:false,style:"padding: 15px;",width:"97%",templateField:"modx-resource-template"});MODx.panel.ResourceTV.superclass.constructor.call(this,A);this.addEvents({load:true});};Ext.extend(MODx.panel.ResourceTV,MODx.Panel,{autoload:function(){return false;},refreshTVs:function(){return false;var A=Ext.getCmp(this.config.templateField);if(!A&&!this.config.template){return false;}var B=this.config.template?this.config.template:A.getValue();this.getUpdater().update({url:MODx.config.manager_url+"index.php?a="+MODx.action["resource/tvs"],method:"GET",params:{class_key:this.config.class_key,template:B,resource:this.config.resource},scripts:true,callback:function(){this.fireEvent("load");if(MODx.afterTVLoad){MODx.afterTVLoad();}},scope:this});}});Ext.reg("modx-panel-resource-tv",MODx.panel.ResourceTV);